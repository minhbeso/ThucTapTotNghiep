{% load util_filters %}

<tr>
  <td>
    <a href="{% url 'product_detail' product.id %}" class="flex items-center gap-3">
      <div class="avatar">
        <div class="w-20 h-20 mask mask-squircle">
          <img src="{{ product.image.url }}" alt="Avatar Tailwind CSS Component" />
        </div>
      </div>
      <div class="truncate">
        <div class="font-bold">{{ product.name }}</div>
        <div class="text-sm opacity-50">{{ product.category }} - {{ product.brand }}</div>
      </div>
    </a>
  </td>
  <td class="truncate">
    {% if product.get_discount_percentage %}
      <div class="flex gap-2 font-semibold">
        <span class="text-xs text-gray-400 line-through">{{ product.old_price|int_comma }} đ</span>
        <span class="badge badge-xs badge-error">Giảm {{ product.get_discount_percentage }}%</span>
      </div>
      <span class="font-bold">{{ product.price|int_comma }} đ</span>
    {% else %}
      <span class="font-bold">{{ product.price|int_comma }} đ</span>
    {% endif %}
  </td>
  <td>
    <span>{{ order_item.quantity }}</span>
  </td>
  <th>
    <span class="text-lg font-bold truncate text-end text-primary">
      <span>{{ order_item.get_total_price|int_comma }}</span>
      đ
    </span>
  </th>
</tr>
